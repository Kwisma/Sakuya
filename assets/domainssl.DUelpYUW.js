import{_ as m}from"./ValaxyMain.vue_vue_type_style_index_0_lang.XEphA2N3.js";import"./chunks/@vueuse/motion.DnqFY5ed.js";import{f as g,a as F,u}from"./chunks/vue-router.QqZpEq4e.js";import{ab as y,am as a,ae as e,af as s,aj as i,F as C,ac as b,Z as E}from"./framework.CLRWxYV4.js";import"./app.CktbDswC.js";import"./chunks/dayjs.DPscOGnl.js";import"./chunks/vue-i18n.k_rJvvoW.js";import"./chunks/pinia.BDIuemwT.js";import"./chunks/nprogress.DgNGesC2.js";import"./YunComment.vue_vue_type_style_index_0_lang.C9iii-27.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BtVE1kcb.js";import"./post.wQnVhgKi.js";const v=g("/posts/domainssl",async n=>JSON.parse('{"title":"Let’s Encrypt 免费申请泛域名 SSL 证书","description":"","frontmatter":{"layout":"post","date":"2025-03-27 19:18:39","title":"Let’s Encrypt 免费申请泛域名 SSL 证书","excerpt":"使用 Let’s Encrypt 免费申请泛域名 SSL 证书，并实现自动续期的快速指令","categories":["证书"],"tags":["域名","证书"],"cover":"/posts/ssl.webp"},"headers":[{"level":2,"title":"使用 acme.sh 设置 SSL 证书","slug":"使用-acme-sh-设置-ssl-证书","link":"#使用-acme-sh-设置-ssl-证书","children":[]},{"level":2,"title":"步骤概述","slug":"步骤概述","link":"#步骤概述","children":[]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}],"relativePath":"pages/posts/domainssl.md","lastUpdated":1743191721000}'),{lazy:(n,h)=>n.name===h.name}),I={__name:"domainssl",setup(n,{expose:h}){var k;const{data:r}=v(),c=u(),o=F(),t=Object.assign(o.meta.frontmatter||{},((k=r.value)==null?void 0:k.frontmatter)||{});return o.meta.frontmatter=t,c.currentRoute.value.data=r.value,E("valaxy:frontmatter",t),globalThis.$frontmatter=t,h({frontmatter:{layout:"post",date:"2025-03-27 19:18:39",title:"Let’s Encrypt 免费申请泛域名 SSL 证书",excerpt:"使用 Let’s Encrypt 免费申请泛域名 SSL 证书，并实现自动续期的快速指令",categories:["证书"],tags:["域名","证书"],cover:"/posts/ssl.webp"}}),(l,p)=>{const d=m;return b(),y(d,{frontmatter:C(t)},{"main-content-md":a(()=>p[0]||(p[0]=[s("h2",{id:"使用-acme-sh-设置-ssl-证书",tabindex:"-1"},[i("使用 acme.sh 设置 SSL 证书 "),s("a",{class:"header-anchor",href:"#使用-acme-sh-设置-ssl-证书","aria-label":'Permalink to "使用 acme.sh 设置 SSL 证书"'},"​")],-1),s("p",null,[i("本指南提供了使用 "),s("code",null,"acme.sh"),i(" 脚本设置 SSL 证书的分步说明，其中 Let’s Encrypt 为默认证书颁发机构 (CA)。它包括用于安装、配置和颁发根域和通配符域证书的命令。")],-1),s("h2",{id:"步骤概述",tabindex:"-1"},[i("步骤概述 "),s("a",{class:"header-anchor",href:"#步骤概述","aria-label":'Permalink to "步骤概述"'},"​")],-1),s("ol",null,[s("li",null,[s("strong",null,"安装 acme.sh"),i("：下载并安装 "),s("code",null,"acme.sh"),i(" 脚本。提供用于接收通知的电子邮件地址。")])],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"curl"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://get.acme.sh"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," sh"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -s"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," email=d342jxc@gmail.com")])])]),s("button",{class:"collapse"})],-1),s("ol",{start:"2"},[s("li",null,[s("strong",null,"设置默认 CA"),i("：配置 "),s("code",null,"acme.sh"),i(" 使用 Let’s Encrypt 作为默认 CA。")])],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"acme.sh"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --set-default-ca"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --server"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," letsencrypt")])])]),s("button",{class:"collapse"})],-1),s("ol",{start:"3"},[s("li",null,[s("strong",null,"别名配置"),i("：为"),s("code",null,"acme.sh"),i("添加别名，以简化命令使用并重新加载shell配置。")])],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"echo"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'alias acme.sh=~/.acme.sh/acme.sh'"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," >>"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ~/.bashrc")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ~/.bashrc")])])]),s("button",{class:"collapse"})],-1),s("ol",{start:"4"},[s("li",null,[s("strong",null,"Cloudflare API 凭证"),i("：添加 Cloudflare API 凭证（"),s("code",null,"CF_Key"),i(" 和 "),s("code",null,"CF_Email"),i("）以启用基于 DNS 的域验证。")])],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," CF_Key"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"xxx"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," CF_Email"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"xxx@gmail.com"')])])]),s("button",{class:"collapse"})],-1),s("ol",{start:"5"},[s("li",null,[s("strong",null,"颁发证书"),i("：使用 "),s("code",null,"--issue"),i(" 命令通过 Cloudflare DNS 验证为根域和通配符子域生成 SSL 证书。")])],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"acme.sh"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --issue"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --dns"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," dns_cf"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," example.com"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," *"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},".example.com")])])]),s("button",{class:"collapse"})],-1),s("ol",{start:"6"},[s("li",null,[s("strong",null,"安装证书"),i("：将生成的证书安装到指定路径，并为Nginx Web服务器配置重新加载命令。")])],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"acme.sh"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --install-cert"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'example.com'"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"--key-file       "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/etc/nginx/ssl/example.com/example.com.key"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"--fullchain-file "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/etc/nginx/ssl/example.com/example.com.crt"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"--reloadcmd     "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"service nginx force-reload"')])])]),s("button",{class:"collapse"})],-1),s("div",{class:"language-bash vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"bash"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"acme.sh"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," --install-cert"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -d"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '*.example.com'"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"--key-file       "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/etc/nginx/ssl/example.com/example.com.key"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"  \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"--fullchain-file "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/etc/nginx/ssl/example.com/example.com.crt"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"--reloadcmd     "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"service nginx force-reload"')])])]),s("button",{class:"collapse"})],-1),s("h2",{id:"注意事项",tabindex:"-1"},[i("注意事项 "),s("a",{class:"header-anchor",href:"#注意事项","aria-label":'Permalink to "注意事项"'},"​")],-1),s("ul",null,[s("li",null,[i("将 "),s("code",null,"xxx"),i(" 和 "),s("code",null,"xxx@gmail.com"),i(" 替换为您的实际 Cloudflare API 密钥和电子邮件地址。")]),s("li",null,[i("将 "),s("code",null,"example.com"),i(" 替换为您的实际域名。")]),s("li",null,"确保密钥和证书文件的指定路径与您的 Nginx 配置相匹配。"),s("li",null,[s("code",null,"--reloadcmd"),i(" 选项可确保在证书续订后自动重新加载 Nginx。")])],-1),s("p",null,"此设置可确保根域和所有子域的安全 HTTPS 连接。",-1)])),"main-header":a(()=>[e(l.$slots,"main-header")]),"main-header-after":a(()=>[e(l.$slots,"main-header-after")]),"main-nav":a(()=>[e(l.$slots,"main-nav")]),"main-content-before":a(()=>[e(l.$slots,"main-content-before")]),"main-content":a(()=>[e(l.$slots,"main-content")]),"main-content-after":a(()=>[e(l.$slots,"main-content-after")]),"main-nav-before":a(()=>[e(l.$slots,"main-nav-before")]),"main-nav-after":a(()=>[e(l.$slots,"main-nav-after")]),comment:a(()=>[e(l.$slots,"comment")]),footer:a(()=>[e(l.$slots,"footer")]),aside:a(()=>[e(l.$slots,"aside")]),"aside-custom":a(()=>[e(l.$slots,"aside-custom")]),default:a(()=>[e(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{I as default,v as usePageData};
